{"version":3,"file":"components/row-selection-controller.js","mappings":";;AAAA,MAAMA,uBAAuB,GAAGC,QAAQ,CAACC,gBAAT,CAC9B,0BAD8B,CAAhC;AAIAF,uBAAuB,CAACG,OAAxB,CAAiCC,cAAD,IAAoB;EAClD,MAAMC,KAAK,GAAGD,cAAc,CAACE,OAAf,CAAuB,gBAAvB,CAAd;EACA,MAAMC,eAAe,GAAGF,KAAK,CAACH,gBAAN,CAAuB,wBAAvB,CAAxB;EACA,MAAMM,iBAAiB,GAAGH,KAAK,CAACI,aAAN,CACxB,kCADwB,CAA1B;EAGA,MAAMC,mBAAmB,GAAGL,KAAK,CAACI,aAAN,CAC1B,mCAD0B,CAA5B;EAGA,MAAME,oBAAoB,GAAGN,KAAK,CAACI,aAAN,CAAoB,qBAApB,CAA7B;EACA,MAAMG,qBAAqB,GAAGP,KAAK,CAACI,aAAN,CAAoB,sBAApB,CAA9B;;EAEA,IAAIF,eAAe,CAACM,MAAhB,KAA2B,CAA/B,EAAkC;IAChCT,cAAc,CAACU,QAAf,GAA0B,IAA1B;;IACA,IAAIN,iBAAJ,EAAuB;MACrBA,iBAAiB,CAACM,QAAlB,GAA6B,IAA7B;IACD;EACF;;EAED,MAAMC,qBAAqB,GAAG,MAAM;IAClC,OACER,eAAe,CAACM,MAAhB,KACA,CAAC,GAAGN,eAAJ,EAAqBS,MAArB,CAA6BC,CAAD,IAAOA,CAAC,CAACC,OAArC,EAA8CL,MAFhD;EAID,CALD;;EAOA,MAAMM,qBAAqB,GAAG,MAAM;IAClC,OAAO,CAAC,GAAGZ,eAAJ,EAAqBS,MAArB,CAA6BC,CAAD,IAAOA,CAAC,CAACC,OAArC,EAA8CL,MAA9C,GAAuD,CAA9D;EACD,CAFD;;EAIAN,eAAe,CAACJ,OAAhB,CAAyBiB,QAAD,IAAc;IACpCA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,MAAM;MACxCC,UAAU;IACX,CAFD;EAGD,CAJD;EAMAlB,cAAc,CAACiB,gBAAf,CAAgC,OAAhC,EAAyC,MAAM;IAC7C,MAAME,QAAQ,GAAG,CAACR,qBAAqB,EAAvC;IACAR,eAAe,CAACJ,OAAhB,CAAyBc,CAAD,IAAQA,CAAC,CAACC,OAAF,GAAYK,QAA5C;IACAD,UAAU;EACX,CAJD;EAMAX,oBAAoB,SAApB,IAAAA,oBAAoB,WAApB,YAAAA,oBAAoB,CAAEU,gBAAtB,CAAuC,OAAvC,EAAgD,MAAM;IACpDd,eAAe,CAACJ,OAAhB,CAAyBc,CAAD,IAAQA,CAAC,CAACC,OAAF,GAAY,IAA5C;IACAI,UAAU;EACX,CAHD;EAKAV,qBAAqB,SAArB,IAAAA,qBAAqB,WAArB,YAAAA,qBAAqB,CAAES,gBAAvB,CAAwC,OAAxC,EAAiD,MAAM;IACrDd,eAAe,CAACJ,OAAhB,CAAyBc,CAAD,IAAQA,CAAC,CAACC,OAAF,GAAY,KAA5C;IACAI,UAAU;EACX,CAHD;;EAKA,SAASA,UAAT,GAAsB;IACpBlB,cAAc,CAACoB,SAAf,CAAyBC,MAAzB,CAAgC,8BAAhC;IACArB,cAAc,CAACoB,SAAf,CAAyBC,MAAzB,CAAgC,wCAAhC;IACAf,mBAAmB,SAAnB,IAAAA,mBAAmB,WAAnB,YAAAA,mBAAmB,CAAEc,SAArB,CAA+BC,MAA/B,CACE,2CADF;;IAIA,IAAIV,qBAAqB,EAAzB,EAA6B;MAC3BX,cAAc,CAACoB,SAAf,CAAyBE,GAAzB,CAA6B,8BAA7B;MACA;IACD;;IAED,IAAIP,qBAAqB,EAAzB,EAA6B;MAC3Bf,cAAc,CAACoB,SAAf,CAAyBE,GAAzB,CAA6B,wCAA7B;IACD;EACF;;EAEDzB,QAAQ,CAACoB,gBAAT,CAA0B,OAA1B,EAAoCM,KAAD,IAAW;IAC5C,IACEjB,mBAAmB,SAAnB,IAAAA,mBAAmB,WAAnB,IAAAA,mBAAmB,CAAEkB,QAArB,CAA8BD,KAAK,CAACE,MAApC,KACAF,KAAK,CAACE,MAAN,KAAiBrB,iBAFnB,EAGE;MACA;IACD;;IAEDE,mBAAmB,SAAnB,IAAAA,mBAAmB,WAAnB,YAAAA,mBAAmB,CAAEc,SAArB,CAA+BC,MAA/B,CACE,2CADF;EAGD,CAXD;EAaAjB,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEa,gBAAnB,CAAoC,OAApC,EAA6C,MAAM;IACjDX,mBAAmB,CAACc,SAApB,CAA8BM,MAA9B,CACE,2CADF;EAGD,CAJD;EAMAC,MAAM,CAACC,yBAAP,GAAmCV,UAAnC;AACD,CAzFD,E","sources":["webpack://jenkins-ui/./src/main/js/components/row-selection-controller/index.js"],"sourcesContent":["const rowSelectionControllers = document.querySelectorAll(\n  \".jenkins-table__checkbox\"\n);\n\nrowSelectionControllers.forEach((headerCheckbox) => {\n  const table = headerCheckbox.closest(\".jenkins-table\");\n  const tableCheckboxes = table.querySelectorAll(\"input[type='checkbox']\");\n  const moreOptionsButton = table.querySelector(\n    \".jenkins-table__checkbox-options\"\n  );\n  const moreOptionsDropdown = table.querySelector(\n    \".jenkins-table__checkbox-dropdown\"\n  );\n  const moreOptionsAllButton = table.querySelector(\"[data-select='all']\");\n  const moreOptionsNoneButton = table.querySelector(\"[data-select='none']\");\n\n  if (tableCheckboxes.length === 0) {\n    headerCheckbox.disabled = true;\n    if (moreOptionsButton) {\n      moreOptionsButton.disabled = true;\n    }\n  }\n\n  const allCheckboxesSelected = () => {\n    return (\n      tableCheckboxes.length ===\n      [...tableCheckboxes].filter((e) => e.checked).length\n    );\n  };\n\n  const anyCheckboxesSelected = () => {\n    return [...tableCheckboxes].filter((e) => e.checked).length > 0;\n  };\n\n  tableCheckboxes.forEach((checkbox) => {\n    checkbox.addEventListener(\"change\", () => {\n      updateIcon();\n    });\n  });\n\n  headerCheckbox.addEventListener(\"click\", () => {\n    const newValue = !allCheckboxesSelected();\n    tableCheckboxes.forEach((e) => (e.checked = newValue));\n    updateIcon();\n  });\n\n  moreOptionsAllButton?.addEventListener(\"click\", () => {\n    tableCheckboxes.forEach((e) => (e.checked = true));\n    updateIcon();\n  });\n\n  moreOptionsNoneButton?.addEventListener(\"click\", () => {\n    tableCheckboxes.forEach((e) => (e.checked = false));\n    updateIcon();\n  });\n\n  function updateIcon() {\n    headerCheckbox.classList.remove(\"jenkins-table__checkbox--all\");\n    headerCheckbox.classList.remove(\"jenkins-table__checkbox--indeterminate\");\n    moreOptionsDropdown?.classList.remove(\n      \"jenkins-table__checkbox-dropdown--visible\"\n    );\n\n    if (allCheckboxesSelected()) {\n      headerCheckbox.classList.add(\"jenkins-table__checkbox--all\");\n      return;\n    }\n\n    if (anyCheckboxesSelected()) {\n      headerCheckbox.classList.add(\"jenkins-table__checkbox--indeterminate\");\n    }\n  }\n\n  document.addEventListener(\"click\", (event) => {\n    if (\n      moreOptionsDropdown?.contains(event.target) ||\n      event.target === moreOptionsButton\n    ) {\n      return;\n    }\n\n    moreOptionsDropdown?.classList.remove(\n      \"jenkins-table__checkbox-dropdown--visible\"\n    );\n  });\n\n  moreOptionsButton?.addEventListener(\"click\", () => {\n    moreOptionsDropdown.classList.toggle(\n      \"jenkins-table__checkbox-dropdown--visible\"\n    );\n  });\n\n  window.updateTableHeaderCheckbox = updateIcon;\n});\n"],"names":["rowSelectionControllers","document","querySelectorAll","forEach","headerCheckbox","table","closest","tableCheckboxes","moreOptionsButton","querySelector","moreOptionsDropdown","moreOptionsAllButton","moreOptionsNoneButton","length","disabled","allCheckboxesSelected","filter","e","checked","anyCheckboxesSelected","checkbox","addEventListener","updateIcon","newValue","classList","remove","add","event","contains","target","toggle","window","updateTableHeaderCheckbox"],"sourceRoot":""}